<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Login e Cadastro</title>
    <link rel="stylesheet" type="text/css" href="css/style.login.cadastro.css">
</head>
<body>
    <section class="header">
        <nav>
            <a href="index.html"><img src="assets/logo.jpg"></a>
            <div class="nav-links">
                <ul>
                    <li><a href="Pag1.html">INÍCIO</a></li>
                    <li><a href="Pag1.html">CONTATO</a></li>
                </ul>
            </div>
        </nav>
        <div id="cadastro-login-container">
            <div class="login" id="login-section">
                <h2>Login</h2>
                <form id="loginForm">
                    <input type="text" placeholder="Usuário" required>
                    <input type="password" placeholder="Senha" required>
                    <input type="submit" value="Entrar">
                </form>
                <p>
                    <a href="javascript:void(0);" onclick="showSignup()">Ainda não possui uma conta? Cadastre-se!</a>
                </p>
            </div>
            <div class="signup" id="signup-section">
                <h2>Cadastro de Novos Usuários</h2>
                <form id="cadastroForm">
                    <input type="text" placeholder="Nome Completo" required>
                    <input type="text" placeholder="CPF" required>
                    <input type="tel" placeholder="Telefone" required>
                    <input type="text" placeholder="Outras Informações Relevantes">
                    <input type="submit" value="Cadastrar">
                </form>
                <p>
                    <a href="javascript:void(0);" onclick="showLogin()">Já possui uma conta? Faça login!</a>
                </p>
            </div>
        </div>
    </section>

    <script>
        // Função para enviar dados do formulário
        function enviarFormulario(url, formData) {
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: new URLSearchParams(formData),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Resposta do servidor:', data);
                // Adicione aqui lógica para lidar com a resposta do servidor, se necessário
            })
            .catch(error => {
                console.error('Erro na requisição:', error);
                // Adicione aqui lógica para lidar com erros, se necessário
            });
        }

        // Event listener para o formulário de login
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            event.preventDefault();
            var formData = new FormData(this);
            enviarFormulario('http://10.131.32.132:8080/login', formData);
        });

        // Event listener para o formulário de cadastro
        document.getElementById("cadastroForm").addEventListener("submit", function(event) {
            event.preventDefault();
            var formData = new FormData(this);
            enviarFormulario('http://10.131.32.132:8080/cadastrar', formData);
        });
    </script>

    <script src="javascript/script.js"></script>
</body>
</html>
